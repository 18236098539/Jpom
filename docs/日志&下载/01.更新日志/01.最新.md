---
title: 2.11.x-release
date: 2024-01-12 14:04:53
permalink: /pages/changelog/new/
categories:
  - docs
  - 更新日志
  - 更新说明
tags:
  - 2.11.x
---

## 2.11.4 (2024-04-07)

### 🐣 新增功能

1. 【server】新增 数据库支持 *postgresql* （感谢[@王先生](https://gitee.com/whz_gmg1)）[Gitee Pr 223](https://gitee.com/dromara/Jpom/pulls/223)
2. 【server】新增 数据库支持 *mariadb*
3. 【server】新增 Oauth2 新增钉钉扫码登录

### 🐞 解决BUG、优化功能

1. 【all】优化 新增 `jpom.system.command-use-sudo` 配置属性控制是否使用 sudo 执行部分系统命令
2. 【server】优化 前端页面 keep-alive 可能导致的内存泄漏问题（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I9510M](https://gitee.com/dromara/Jpom/issues/I9510M) ）
3. 【server】修复 部分弹窗不生效问题（感谢[@a20070322](https://gitee.com/a20070322)  [Gitee Pr 215](https://gitee.com/dromara/Jpom/pulls/215) ）
4. 【server】优化 前端 ES lint 配置规范前端代码（感谢[@a20070322](https://gitee.com/a20070322) [Gitee Pr 214](https://gitee.com/dromara/Jpom/pulls/214) / [Gitee Pr 215](https://gitee.com/dromara/Jpom/pulls/215) / [Gitee Pr 217](https://gitee.com/dromara/Jpom/pulls/217) ）
5. 【server】修复 docker 控制台网络选项卡页面空白（感谢@破冰）
6. 【server】修复 节点历史监控统计图表时间查询不生效（感谢@九問）
7. 【server】优化 SSH 脚本触发器支持传入参数当环境变量（感谢@小朱）
8. 【server】修复 h2迁移其它数据库时部分数据丢失（感谢[@王先生](https://gitee.com/whz_gmg1)）[Gitee issues I9977K](https://gitee.com/dromara/Jpom/issues/I9977K)
9. 【server】优化 逐步引入新版表格（构建、项目、节点、资产机器）（感谢[@a20070322](https://gitee.com/a20070322) [Gitee Pr 218](https://gitee.com/dromara/Jpom/pulls/218) / [Gitee Pr 220](https://gitee.com/dromara/Jpom/pulls/220) / [Gitee Pr 222](https://gitee.com/dromara/Jpom/pulls/222) ）
10. 【server】优化 工作空间概括构建日志支持快速查看详情（感谢@Roger.cao）
11. 【server】修复 无法查询到分组信息（页面下拉框）（感谢@猫猫向钱跑）
12. 【server】修复 【项目文件管理远程下载】、【镜像创建容器】确认按钮无法使用（感谢@猫猫向钱跑）
13. 【server】修改 资产管理机器管理删除按钮无法正常使用（感谢@🇩）
14. 【server】修复 SSH 面板文件管理无法正常切换（感谢@勤思·）
15. 【server】优化 部分页面在火狐浏览器无法正常打开（感谢[@sparkarvin](https://gitee.com/arvinlovegood_admin) [Gitee issues I96IOA](https://gitee.com/dromara/Jpom/issues/I96IOA) ）
    （感谢[@a20070322](https://gitee.com/a20070322) [Gitee Pr 221](https://gitee.com/dromara/Jpom/pulls/221)  ）
16. 【agent】优化 DSL 项目支持配置在特定目录执行脚本（run.execPath）
17. 【agent】优化 管理脚本 -Xss 默认值修改为 512k（感谢@Again... ）
18. 【server】优化 管理脚本 -Xss 默认值修改为 1024k（感谢@Again... ）
19. 【server】优化 声明使用开源软件列表、增加本软件开源协议声明

------

## 2.11.3 (2024-03-01)

### 🐞 解决BUG、优化功能

1. 【agent】修复 修改项目日志路径如果文件夹不存在报错（感谢@长弘）
2. 【server】修复 节点机器日志无法下载（感谢@Again...）
3. 【agent】升级 oshi 版本
4. 【server】升级 mwiede、apache-sshd 版本（感谢@*斌）
5. 【server】优化 项目列表 file 类型正常排序（不再排序到最后）（感谢[@pal865](https://gitee.com/pal865) [Gitee issues I8XU32](https://gitee.com/dromara/Jpom/issues/I8XU32) ）
6. 【all】修复 windows 环境保存配置并重启失败（感谢[@Robot](https://gitee.com/robot1937) [Gitee issues I8Y01T](https://gitee.com/dromara/Jpom/issues/I8Y01T) ）
7. 【server】修复 新版本页面部分分页切换失效（构建详情、资产机器、逻辑节点）（感谢@zac）
8. 【server】优化 构建代码未变动流程打断触发器未传入原因（statusMsg）（感谢@烛孩）
9. 【server】修复 项目控制台日志删除弹窗未能正常关闭（感谢@%）
10. 【server】修复 脚本日志时间筛选不生效（感谢[@zhaozxc2010](https://gitee.com/zhaozxc2010) [Gitee issues I8ZNKL](https://gitee.com/dromara/Jpom/issues/I8ZNKL) ）
11. 【server】优化 页面左侧菜单固定悬浮不跟随屏幕滚动条滚动（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I8ZOOB](https://gitee.com/dromara/Jpom/issues/I8ZOOB) / [Gitee Pr 201](https://gitee.com/dromara/Jpom/pulls/201) ）
12. 【server】优化 新增机器节点提示未选择协议（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I8ZDZT](https://gitee.com/dromara/Jpom/issues/I8ZDZT) / [Gitee Pr 202](https://gitee.com/dromara/Jpom/pulls/202) ）
13. 【server】修复 SSH 资产硬盘信息显示错误（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I8ZY7K](https://gitee.com/dromara/Jpom/issues/I8ZY7K) ）
14. 【server】优化 表格搜索区域小屏幕适配 （感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I8ZY0B](https://gitee.com/dromara/Jpom/issues/I8ZY0B) ）
15. 【server】优化 SSH 文件管理树操作优化 （感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I9054L](https://gitee.com/dromara/Jpom/issues/I9054L) / [Gitee issues I5DMKG](https://gitee.com/dromara/Jpom/issues/I5DMKG) ）
16. 【server】优化 整体页面顶部菜单吸顶效果（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I907Y8](https://gitee.com/dromara/Jpom/issues/I907Y8) ）
17. 【server】优化 资产监控线程池独立管理（感谢[@singlethread](https://gitee.com/zengwei_joni) [Gitee issues I918AB](https://gitee.com/dromara/Jpom/issues/I918AB) ）
18. 【server】优化 构建回滚使用构建独立线程池
19. 【all】优化 升级 hutool 版本（主要解决版本号排序异常）（感谢 [@Tom Xin](https://gitee.com/meiMingle) [Gitee issues I8Z3TI](https://gitee.com/dromara/Jpom/issues/I8Z3TI) / [Hutool issues I8Z3VE](https://gitee.com/dromara/hutool/issues/I8Z3VE)）
20. 【all】优化 升级 fastjson 版本
21. 【server】优化 页面整体滚动条兼容高版本浏览器（感谢@Controllers）
22. 【server】优化 升级 docker-java、jgit 版本
23. 【all】优化 升级 commons-compress 版本
24. 【server】优化 新增配置节点 websocket 通讯消息大小限制（jpom.node.web-socket-message-size-limit）（感谢@长弘）
25. 【server】优化 系统文件占用空间统计周期调整为每天2次（感谢[@singlethread](https://gitee.com/zengwei_joni) [Gitee issues I9302U](https://gitee.com/dromara/Jpom/issues/I9302U) ）
26. 【server】优化 支持配置前端所有参数编码来规避部分安全规则检查（感谢[@zhaozxc2010](https://gitee.com/zhaozxc2010) [Gitee issues I8Z1VJ](https://gitee.com/dromara/Jpom/issues/I8Z1VJ) ）
27. 【server】优化 上传文件空文件提示文件路径（感谢[@SchuckBate](https://gitee.com/skBate) [Gitee issues I93FI6](https://gitee.com/dromara/Jpom/issues/I93FI6) ）
28. 【server】优化 监听日志文件消息发送失败后自动移除会话（感谢[@singlethread](https://gitee.com/zengwei_joni) [Gitee issues I93ZFX](https://gitee.com/dromara/Jpom/issues/I93ZFX) ）
29. 【server】优化 容器构建产物为文件时保存路径层级错误（感谢[@vfhky](https://github.com/vfhky)）[Github Pr 71](https://github.com/dromara/Jpom/pull/71) ）
30. 【server】优化 个性配置区内容主题支持“跟随系统”（感谢[@a20070322](https://gitee.com/a20070322) [Gitee issues I94SPA](https://gitee.com/dromara/Jpom/issues/I94SPA) ）

------

## 2.11.2 (2024-03-01)

### ⚠️ 注意

此版本是一个空版本，为了更好地兼容后续 beta 和 release 版本发布特意创建的空版本

2.11.2 版本等同于 2.11.3 版本

------

## 2.11.1 (2024-01-18)

### 🐣 新增功能

1. 【server】新增 触发器调用次数统计、触发器统一管理
2. 【server】新增 本地构建命令执行支持配置多线程方式（多线程接收输出流，避免极端情况卡死）

### 🐞 解决BUG、优化功能

1. 【server】修复 docker TLS 证书无法查看全部、证书无法编辑（新版遗漏）
2. 【server】优化 docker 资产监控支持自定义配置 cron `jpom.assets.docker.monitor-cron`
3. 【server】修复 容器终端、容器日志无法正常使用
4. 【server】修复 新版本页面多处无法正常使用相关问题（优化部分提示说明）
5. 【server】修复 静态文件名太短（100个字符）（感谢@*斌）
6. 【server】修复 还原数据库弹窗内容提示为空（感谢@伤感的风铃草🌿）
7. 【server】优化 echarts 支持跟随深色模式
8. 【server】修复 编辑节点分发服务端脚本弹窗被挡住（感谢@🇩）
9. 【server】优化 前端打包（缩减首屏加载时间）（感谢@曾梦想仗剑走天涯）
10. 【all】优化 机器状态新增：资源监控异常（资源监控异常不影响功能使用）
11. 【server】优化 取消登录页动态背景图
12. 【server】修复 节点分发文件中心、静态文件后文件自动被删除（感谢@九問）
13. 【server】优化 容器构建支持配置容器资源（HostConfig）（感谢@珂儿）
14. 【agent】修复 插件端非默认工作空间项目重启后变为孤独数据（感谢@ccx2480）
15. 【server】修复 新增节点分发项目数据为孤独数据

------

## 2.11.0 (2024-01-12)

### 🐣 新增功能

1. 【all】新增 **项目支持软链其他项目（代替项目副本）**
2. 【server】新增 **工作空间管理中新增概括总览页面、资产总览统计**
3. 【server】升级 **页面 UI 组件、VUE 版本升级到最新（支持配置浅色、深色主题、左边菜单主题）**
4. 【all】新增 **孤独数据管理（查看孤独数据、修正孤独数据）**（感谢[@陈旭](https://gitee.com/chenxu8989) [Gitee issues I8UNXZ](https://gitee.com/dromara/Jpom/issues/I8UNXZ)）
5. 【server】新增 节点分发可以指定构建历史产物发布
6. 【server】新增 节点分发可以指定文件中心发布
7. 【server】新增 DSL 项目新增 reload 事件（可以开启文件变动触发）
8. 【server】新增 静态文件授权服务端指定目录到工作空间来管理（分发）(感谢@*斌)
9. 【server】新增 节点分发可以指定静态文件发布
10. 【server】修复 没有工作空间权限时页面循环跳转（感谢[@王先生](https://gitee.com/whz_gmg1) [Gitee issues I8RR01](https://gitee.com/dromara/Jpom/issues/I8RR01)）
11. 【all】优化 授权目录判断逻辑
12. 【agent】取消 插件端授权目录关闭包含判断(`jpom.whitelist.check-starts-with`)
13. 【server】优化 触发器清理优化、删除用户主动删除关联触发器
14. 【server】优化 DSL 项目控制台支持快捷编辑节点脚本（查看流程信息）
15. 【server】修复 项目触发器无法调用

### 🐞 解决BUG、优化功能

1. 【all】下架 **全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）**
2. 【all】下架 **全面节点证书管理功能（请使用工作空间证书代替）**
3. 【all】下架 **全面架节点 NGINX 管理功能（请使用 DSL 模式代替）**
4. 【server】优化 **构建编辑页面交互、编辑器样式、DSL 配置样式**
5. 【server】优化 **节点管理仅保留项目管理、脚本管理、脚本日志（其他功能迁移到机器资产管理）**
6. 【all】优化 查看插件端和服务端的系统日志 websocket 地址
7. 【server】优化 监控机器系统负载保留2位小数
8. 【server】下架 取消节点管理员权限
9. 【server】修复 文件变动触发器不生效的问题
10. 【all】优化 项目操作接口合并（4 合 1）
11. 【server】优化 配置授权目录需要使用到绝对路径
12. 【server】优化 重新同步节点项目、节点脚本缓存交互
13. 【server】优化 SSH 脚本执行模板独立（`/exec/template.sh` -> `/ssh/template.sh`）
14. 【server】优化 服务端脚本支持加载脚本模板来实现自动加载部分环境变量
15. 【all】优化 关闭 Process 方式
16. 【server】优化 支持批量删除构建信息（感谢@奇奇）
17. 【server】修复 删除项目、删除分发检查关联构建失败问题
18. 【all】优化 日志记录器提升日志记录性能
19. 【server】优化 取消/停止构建采用异常来打断子进程
20. 【server】修复 本地构建无法取消
21. 【server】修复 服务端脚本触发器、节点脚本触发器提示找不到用户（感谢@LYY）
22. 【server】修复 部分低频功能无法正常使用（项目备份文件管理等）
23. 【server】修复 部分执行异常未输出到操作日志文件中（感谢@闫淼淼）
24. 【server】优化 系统Git拉取代码时，强制云端最新代码覆盖本地代码
25. 【agent】优化 插件端 java 项目启动支持读取环境变量
26. 【agent】修复 插件端环境变量值获取异常
27. 【server】优化 本地 git 联动严格执行开关
28. 【server】修复 登录账户未跳转配置的第一个工作空间（未遵循自定义配置）
29. 【server】修复 部分操作构建环境变量丢失（保存并构建、后台构建、直接构建）
30. 【agent】优化 插件端自由脚本（分发文件脚本）大小限制调整为 5M（感谢@九問）

### ⚠️ 注意

1. 全面下架项目副本功能（请使用 DSL 模式或者软链项目代替）如果您当前使用到此功能请先手动备份相关数据
2. 升级后项目副本数据会被人工或者系统更新项目数据自动删除（请一定提前做好备份操作）
3. 全面下架节点证书管理功能（请使用工作空间证书代替）如果您当前使用到此功能请先手动备份相关数据
4. 全面下架全下架节点 NGINX 管理功能（请使用 DSL 模式代替）如果您当前使用到此功能请先手动备份相关数据

>❓ 为什么要下架上述功能：由于版本迭代已经有更好的新功能可以代替之前旧功能，并且新功能从另一种角度更方便。下架也是为了我们后续版本维护迭代更高效

------

1. 如果您配置了授权目录但是保存项目报错您可以尝试重新报错一下授权目录来自动修复授权目录配置数据
2. 项目控制台日志默认路径调整为插件端数据目录下`project-log/${projectId}/${projectId}.log`
3. 项目控制台日志备份默认路径调整为插件端数据目录下`project-log/${projectId}/back/${projectId}-xxxxxxx.log`

---------

如果您自定义过 SSH 脚本默认那么您需要重新同步一下脚本模板`/exec/template.sh` -> `/ssh/template.sh`

新版本 `/exec/template.sh` 中仅在服务端中生效（本地构建脚本、服务端脚本、本地发布脚本）

------

- 【白名单】关键词统一调整为【授权】
- 【黑名单】关键词统一调整为【禁止】
- 部分【添加】关键词统一调整为【新增】

### 🤝致谢

感谢所有参与 2.11.0 beta 版本（2.11.0.0 ~ 2.11.0.13）内测的用户。

------