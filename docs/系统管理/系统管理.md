# 系统管理

# 服务端文件缓存

> 用户上传文件临时的缓存文件夹

### 黑名单IP数量

> 多次登录失败的IP地址，将在一定的数据内不能登录

### 在读取的文件数

> 正在实时查看日志的文件的数据量

### 在线构建文件占用空间

> 在线构建会拉取仓库代码、构建会有构建日志和构建产物

# 在线升级

### 在线升级是为了在方便快捷的升级系统

> 通过后台上传jar包即可完成升级

> 仅有系统管理员可以操作系统升级

### 升级的注意实现

1. 升级的前提是对运行应路径下存在标准的管理命令文件
2. 如果上传的包和当前运行的包一致将不执行升级操作
3. 如果上的包和现运行的包版本一致，打包时间不一致。生成的包文件名为【Server-versions-时间戳.jar】
4. 如果上的包和现运行的包版本不一致，生成的包文件名为【Server-versions.jar】
5. 如果新包文件以及存在则退出升级操作
6. 升级会在运行的jar包路径中生成一个【upgrade.json】
    1. 文件内容是 beforeJar 升级前运行的jar文件名
    2. newJar 升级后的jar文件名
7. 执行重启成功后，会自动将升级前的jar文件备份到路径下的【oldJars】文件夹下
8. 升级成功后会自动修改管理命令文件中的【RUNJAR】变量

#### 如果升级失败目前还需要手动回滚到升级前的版本
 

# 系统日志

> 查看当前查询运行的产生的日志

日志路径默认会在运行路径在的log文件夹，可以指定存放的位置具体配置 在运行命令行中指定【jpom.log】参数


### 对系统日志可以操作的有

1. 下载
2. 删除
   > 考虑到和日志框架的兼容只能删除一天以前的日志文件

   > 仅有系统管理员拥护删除权限
3. 实时查看
   > 在windows系统中由于系统限制无法很好的使用该功能


### 查看崩溃日志

> jpom项目各节点运行目录下log目录为系统日志。

> 项目日志可查看节点项目列表管理项目信息配置界面。 
