---
title: 在线构建相关
date: 2022-07-25 16:46:41
permalink: /pages/6a1f29/
categories:
  - docs
  - FQA
  - 常见问题
tags:
  - 
---

[[toc]]

## 在线构建异常

> 在使用在线构建中出现 xxx:未找到命令 等相关提示。

> 构建依赖的是系统环境，如果需要 maven 或者 node 需要服务端所在的服务器中有对应插件，如果已经启动服务端再安装的对应环境需要通过命令行重启服务端后才生效。


## 上传或者构建发布出现：`Error writing to server` 异常信息

```log
io.jpom.system.AgentException: xxx节点异常：Error writing to server
	at io.jpom.common.forward.NodeForward.responseException(NodeForward.java:235)
	at io.jpom.common.forward.NodeForward.request(NodeForward.java:208)
	at io.jpom.common.forward.NodeForward.request(NodeForward.java:90)
	at io.jpom.outgiving.OutGivingRun.fileUpload(OutGivingRun.java:145)
	at io.jpom.build.ReleaseManage.doProject(ReleaseManage.java:505)
	at io.jpom.build.ReleaseManage.start(ReleaseManage.java:165)
	at io.jpom.build.ReleaseManage.run(ReleaseManage.java:546)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
```

出现上述信息可能是因为上传文件超过插件端上传文件大小限制，需要配置更大的上传文件限制


## 构建日志提示：`xxx 不存在、处理构建产物失败`

**请优先检查构建命令执行结果是否如预期执行结果一致产生对应的文件**

需要检查构建日志中是否存在异常，造成命令并未正常执行结束而是提前终止。

**再检查构建产物目录填写是否正常**

请注意构建产物目录是填写仓库下面的相对路径：如 `dist` 、`/target/xxxx.jar`

⚠️ 注意：

目前 Jpom 执行构建命令是逐行执行，如果需要切换命令或者多条命令需要同时执行需要使用 &&

比如：`cd xxx && mvn clean package` (先将执行目录切换到 xxx 再执行 后续命令)

需要保证多条命令都必须执行成功，如果执行某条命令失败需要终止也是需要使用 && 来实现

比如：`npm i && npm run build` 需要先安装依赖并且成功安装后再打包