---
title: 权限说明
date: 2022-11-08 09:29:58
permalink: /pages/ca90a5/
categories:
  - docs
  - FQA
  - 常见问题
tags:
  - 用户
---

## 权限说明

::: tip 一句话概况
用工作空间来划分数据权限，功能权限绑定在工作空间，给用户授权工作空间来实现权限管理
:::

- `2.8.0+` 使用工作空间取代角色来实现用户权限控制。
- `2.9.7+` 新增权限组来实现批量管理用户权限（工作空间）。

Jpom 中权限数据均绑定到具体的工作空间，用户需要有工作空间的权限才能查看、管理对应的数据。

## 推荐用法

- Jpom 中使用工作空间代替角色来控制数据权限
  - 一个账号可以绑定多个权限组
  - 权限组可以授权多个工作空间
  - 权限组并且可以设置单个工作空间的功能权限
- Jpom 中主要使用工作空间隔离数据权限，建议在实际部署中使用工作空间来隔离权限。

> 温馨提示：一个物理节点可以添加在多个工作空间

如：
1. 测试环境
2. 线上环境
3. ...

如：
1. 前端开发
2. 后端开发
3. ...

## 工作空间

系统中所有数据均绑定到具体的工作空间，用户需要有工作空间的权限才能查看、管理对应的数据。

:::tip 提醒
系统没有针对单条数据授权的功能，如果授权指定工作空间那么对应用户既有对应工作空间所有数据的管理权限
:::

## 用户分类如下

- 超级管理员
  - 初始化系统创建的账号即为超级管理员
- 服务端管理员
  - 指定用户授权（用户编辑页面配置）
- 节点管理员
  - 指定工作空间中是否存在节点管理员权限
- 普通用户
  - 所有用户均包含普通用户权限


## 数据层级

Jpom 服务端中的数据可以大概分为如下层级：用户数据、资产数据、其他数据、工作空间数据

![数据层级](/images/data-tree.png)

如图所示：

**可共享**：是指可以跨工作空间使用的数据

**需分配**：数据默认是在系统级别，可以将数据分配到需要使用的工作空间来供其他用户使用

**普通用户**：仅能使用和管理授权工作空间下的数据

**超级管理员**：可以使用系统中的所有数据

**服务端管理员**：可以使用授权工作空间下的数据、资产数据、部分系统数据

### 权限类型

- 查看权限
  - 只要有工作空间权限就有对应工作空间下数据的查看权限
- 操作权限
  - 根据权限组中配置的对应工作空间具体操作权限

## 操作权限包含

- 修改、添加数据
- 删除数据
- 下载
- 上传
- 执行
- 下载远程文件
- 节点管理员
- SSH 终端命令无限制

## 如何控制菜单权限？

Jpom 中严格说没有菜单权限，仅有工作空间的数据权限。只要有这个工作空间均有这个工作空间下面的所有菜单（功能）权限。

**Q:** 但是有些场景需求是在不同工作空间有不同的功能权限改怎么实现呢？

**答：** 隐藏对应工作空间的菜单，在：系统管理 > 系统配置 > 菜单配置

## 权限组的禁用时段

用于控制当前权限组在指定时间段不能使用对应的管理功能。

比如：节假日禁止发布、特殊时间段禁止人员上线等

## 权限组的允许时段

用户控制当前权限组只能在指定时间段才能使用对应的功能

比如： 周一~周五 早上 9:00 ~ 18:00 才发布上线等

## 权限组页面截图

![权限组](/images/user/fa8b789b336b4dfaaaea453a786a0c0f.png)
