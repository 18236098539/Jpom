---
title: 2.9.x
date: 2022-06-11 17:27:47
permalink: /pages/changelog/new/
tags: 
  - 2.9.x
categories: 
  - docs
  - changelog
---

## 2.9.11 (2022-09-09)

### 🐣 新增功能

### 🐞 解决BUG、优化功能

1. 【server】修复全局变量未自动加载列表
2. 【server】修复全局变量编辑中不能选择分发节点
3. 【server】修复跨工作空间同步数据不能正常使用问题（感谢@ccx2480）
4. 【server】修复 SVN 仓库无法构建问题（感谢@Tʀᴜsᴛ¹⁹⁹¹）
5. 【server】修复全局变量和工作空间变量可能冲突的问题

------

## 2.9.10 (2022-09-07)

### 🐣 新增功能

1. 【server】新增全局工作空间变量
2. 【server】构建仓库中密码支持引用工作空间变量值（统一配置账号密码）（感谢 @G、 @[hjk2008](https://gitee.com/hjk2008) [Gitee issues I4SH8V](https://gitee.com/dromara/Jpom/issues/I4SH8V) ）
3. 【server】ssh 账号密码支持引用工作空间变量值
4. 【server】构建列表新增下载最新产物方式（感谢@奇奇）

### 🐞 解决BUG、优化功能

1. 【server】修复下拉框组件在弹窗中不能完整显示问题（感谢@飞儿、@冷月、@ccx2480）
2. 【server】取消下拉菜单、下拉框跟随页面滚动（from 2.9.2）

------

## 2.9.9 (2022-08-22)

### 🐣 新增功能

1.【agent】DSL 项目新增支持单独配置是否开启日志文件备份属性（感谢@ccx2480）

### 🐞 解决BUG、优化功能

1. 【server】容器构建 cache 插件支持使用环境变量替换值
2. 【agent】优化检查 jps 异常,调整为实时检查（感谢[@傲梅科技](https://gitee.com/aomeitech) [Gitee issues I5MTA4](https://gitee.com/dromara/Jpom/issues/I5MTA4) ）
3. 【server】修复登录后跳转到上次使用到工作空间中问题 （感谢@木迷榖）
4. 【server】缓存日志弹窗相关操作配置 （感谢[@我已经没有头发了](https://gitee.com/christina204) [Gitee issues I5MANC](https://gitee.com/dromara/Jpom/issues/I5MANC) ）
5. 【server】优化节点首页：支持自定义刷新频率、图标自动缩放 （感谢@ccx2480）
6. 【server】优化构建列表：支持自动刷新、构建状态添加标签颜色
7. 【server】优化 SSH 发布上传异常没有抛出导致构建状态不一致问题（感谢@print(1)）

------

## 2.9.8 (2022-08-10)

### 🐣 新增功能

### 🐞 解决BUG、优化功能

1. 【server】修复创建账号默认密码无法正常登录问题（感谢@ʟᴊx💎💎）
2. 【server】错别字：权限组周末改为周日、周七改为周日
3. 【server】容器构建 JDK 依赖下载地址更新（感谢[@Yousinnmu](https://gitee.com/yang-xinwu) [Gitee issues I5LC3K](https://gitee.com/dromara/Jpom/issues/I5LC3K) ）
4. 【server】构建相关环境变量 GIT 仓库时新增：`BUILD_BRANCH_NAME`,`BUILD_TAG_NAME` （感谢[@Yousinnmu](https://gitee.com/yang-xinwu)
5. 【server】修复插件端管理页面中无法正常远程更新问题

### 特别感谢

感谢 [@💎ℳ๓₯㎕斌💎💘](https://weihongbin.com/)  贡献 `Adoptium JDK` 自动更新的解决方案

------

## 2.9.7 (2022-08-08)

### 🐣 新增功能

1. 【server】新增权限组，用于批量管理用户权限（感谢@木迷榖）
2. 【server】账号新增状态字段,用于控制禁用账号
3. 【server】重置密码使用系统生成
4. 【server】构建 docker 镜像支持使用构建序号 ID 为 tag 版本号递增（感谢@Y.）
5. 【server】部分列表新增排序功能(置顶、上移、下移)（感谢[@爱琳琳真是太好了](https://gitee.com/qiqi513_admin) [Gitee issues I5KBN9](https://gitee.com/dromara/Jpom/issues/I5KBN9) ）

### 🐞 解决BUG、优化功能

1. 【server】用户资料支持修改昵称
2. 【server】修复节点管理中【系统设置】菜单重复显示菜单项问题（感谢@ʟᴊx💎💎）
3. 【server】修复节点首页历史监控图表按钮未显示问题（感谢@ʟᴊx💎💎）
4. 【agent】优化加载 nginx 配置相关代码（感谢@伤感的风铃草🌿）
5. 【server】修改 node welcome vue 中单词拼写错误（感谢[@dongge](https://gitee.com/gao-weidong) [Gitee issues I5JT9R](https://gitee.com/dromara/Jpom/issues/I5JT9R) ）
6. 【server】修复 IP 字段长度不足,不能支持 IPV6 问题（感谢[@宋晶磊](https://gitee.com/songjingl) [Gitee issues I5JSEW](https://gitee.com/dromara/Jpom/issues/I5JSEW) ）
7. 【server】修复在 docker 开启 TLS 时候配置私有仓库不生效问题（感谢@🐠）
8. 【server】docker 心跳时间调整为超时时间
9. 【server】修改在未配置 docker 私有仓库信息,部分功能出现 NPE（感谢@🐠、Y.）
10. 优化 windows 环境管理脚本,保存配置并重启不能正确启动问题（感谢@大灰灰）
11. 【server】用户管理中使用系统生成密码代替输入密码

### ⚠️ 注意事项

1. 高版本会兼容低版本已经配置低用户权限，但是在编辑用户时候需要重新配置权限组
2. 升级后需要重新配置用户工作空间权限相关

------

## 2.9.6 (2022-07-27)

### 🐣 新增功能

### 🐞 解决BUG、优化功能

1. 【server】修复日志弹窗在部分屏幕下按钮重叠问题（感谢[@all-around-badass](https://gitee.com/all-around-badass) [Gitee issues I5IZ9H](https://gitee.com/dromara/Jpom/issues/I5IZ9H) ）
2. 【server】优化工作空间和用户昵称显示区域,支持显示更多文字（感谢@木迷榖）

------

## 2.9.5 (2022-07-26)

### 🐣 新增功能

1. 【server】新增配置容器构建基础镜像相关功能（ 感谢[@💎ℳ๓₯㎕斌💎💘](https://gitee.com/weihongbin) ）
2. 【server】SSH 脚本、服务端脚本新增执行触发器
3. 节点脚本新增执行触发器 （感谢[@田良](https://gitee.com/tian8liang) [Gitee issues I5HB6F](https://gitee.com/dromara/Jpom/issues/I5HB6F) ）
4. 【server】查看日志组件新增是否换行（感谢@hjk2008 [Gitee issues I5CYQK](https://gitee.com/dromara/Jpom/issues/I5CYQK) ）

### 🐞 解决BUG、优化功能

1. 优化 HTTP GET 请求打开重定向
2. 【server】触发器 token 机制调整,取消 SHA256 生成。采用数据表单独存储
3. 【server】修复启动加载全局代理时机,避免（The database is not initialized）
4. 管理脚本执行支持环境变量配置 jvm、端口等，`JPOM_AGENT_JVM`,`JPOM_AGENT_PORT`,`JPOM_AGENT_ARGS`、`JPOM_SERVER_JVM`,`JPOM_SERVER_PORT`,`JPOM_SERVER_ARGS` （ 感谢@飞儿 ）
5. 【agent】兼容 `log.autoBackConsoleCron: none` 配置属性

------

## 2.9.4 (2022-07-12)

### 🐣 新增功能

1. 【server】docker 支持配置私有仓库地址（感谢@🐠）
2. 【server】构建 Docker 镜像支持推送到仓库中

### 🐞 解决BUG、优化功能

1. 【agent】插件端上传文件大小配置恢复默认配置（之前版本遗漏）
2. 【server】docker 连接使用连接池实现

------

## 2.9.3 (2022-07-08)

### 🐣 新增功能

1. 【server】新增容器 stats ,方便实时查看容器内存、网络信息
2. 【server】SSH 文件管理新增重命名文件功能
3. 【server】新增全局配置,解决 git httpProxy （感谢[@五六](https://gitee.com/tutu-father) [Gitee issues I5EY03](https://gitee.com/dromara/Jpom/issues/I5EY03) ）
4. 【server】新增更新容器配置（CPU、内存等）
5. 【server】新增页面 ICON 配置属性：`jpom.iconFile` （感谢[@flyhigh318](https://gitee.com/flyhigh318) [Gitee issues I5FKMW](https://gitee.com/dromara/Jpom/issues/I5FKMW) ）
6. 【server】SSH 脚本新增跨工作空间同步功能 （感谢[@flyhigh318](https://gitee.com/flyhigh318) [Gitee issues I5FC9R](https://gitee.com/dromara/Jpom/issues/I5FC9R) ）
7. 【server】服务端脚本模版新增跨工作空间同步功能
8. 【server】构建新增事件脚本属性,在构建环节可以执行指定脚本来实现部分功能（感谢[@沈世举](https://gitee.com/shen-shiju) [Gitee issues I5FKFM](https://gitee.com/dromara/Jpom/issues/I5FKFM) ）
9. 【server】优化构建任务独立线程池,并且新增配置属性 `build.poolSize`、`build.poolWaitQueue` （感谢@小翼哥）
10. 【agent】配置项目是否备份控制台日志属性独立：`log.autoBackToFile` （感谢@Vergil。）

### 🐞 解决BUG、优化功能

1. 升级 SpringBoot、Hutool、jgit、svnkit
2. 【server】docker 加入集群无法正常使用问题
3. 【server】项目文件备份列表不能取消弹窗（点击关闭依然执行）问题（感谢@ʟᴊx💎💎）
4. 【server】修复编辑构建仓库切换事件重复问题 （感谢[@五六](https://gitee.com/tutu-father) [Gitee issues I5F35E](https://gitee.com/dromara/Jpom/issues/I5F35E) ）
5. 【server】修复 windows 执行脚本出现异常（感谢[@all-around-badass](https://gitee.com/all-around-badass) [Gitee issues I5FK0K](https://gitee.com/dromara/Jpom/issues/I5FK0K) ）

------

## 2.9.2 (2022-06-27)

### 🐣 新增功能

1. 【agent】插件端白名单新增 nginx 安装路径,解决 nginx reload 问题（感谢[@all-around-badass](https://gitee.com/all-around-badass) [Gitee issues I5CJR7](https://gitee.com/dromara/Jpom/issues/I5CJR7) ）
2. 【server】通过私人令牌导入仓库支持自建 GitLab
3. 【agent】项目文件管理新增重命名文件功能
4. 快速安装节点支持配置网卡名称（感谢@Elliot）

### 🐞 解决BUG、优化功能

1. 【server】构建历史分页查询不生效（感谢[@PQ宝剑](https://gitee.com/pqbaojian) [Gitee issues I5CYOD](https://gitee.com/dromara/Jpom/issues/I5CYOD) ）
2. 【server】优化编辑 ssh 判断重复,支持多账号配置SSH（感谢[@xiaofangkang](https://gitee.com/xiaofangkang) [Gitee issues I5D0EY](https://gitee.com/dromara/Jpom/issues/I5D0EY) ）
3. 【agent】文件备份对比流程异步处理,避免大文件对比耗时阻塞（感谢@ʟᴊx💎💎）
4. 【server】修复通过私人令牌导入仓库表格主键指定错误
5. 【server】修复 GitLab 通过私人令牌导入仓库接口分页错误
6. 【agent】优化新增文件、删除文件目录加载两次问题（感谢[@all-around-badass](https://gitee.com/all-around-badass) [Gitee issues I5DMKG](https://gitee.com/dromara/Jpom/issues/I5DMKG) ）
7. 【server】优化下拉菜单、下拉框跟随页面滚动 （感谢[@pl.com](https://gitee.com/pl.com) [Gitee issues I5D6I0](https://gitee.com/dromara/Jpom/issues/I5D6I0) ）
8. 【server】导入仓库支持按仓库名搜索
9. 【server】修复导入仓库 GitLab 私有列显示错误
10. 副本功能优化,新增名称字段,项目列表快速查看 （感谢[@爱琳琳真是太好了](https://gitee.com/qiqi513_admin) [Gitee issues I5E52A](https://gitee.com/dromara/Jpom/issues/I5E52A) ）
11. 【server】修复非默认工作空间快速安装节点未正常绑定到对应工作空间问题

------

## 2.9.1 (2022-06-16)

### 🐣 新增功能

1. 【server】SSH 终端新增标签页打开方式（感谢@hu丶向...🤡）

### 🐞 解决BUG、优化功能

1. 【server】db 安全检查时机前置(是否开启 web 访问),避免突然关闭数据库（感谢@信徒）
2. 【server】修复部分终端弹窗太小问题（感谢@syso）
3. 【server】修复重新初始化数据库异常问题（感谢@Dream、hu丶向...🤡）
4. 【server】修复系统管理中查看白名单配置报错（感谢[@all-around-badass](https://gitee.com/all-around-badass) [Gitee issues I5CGO7](https://gitee.com/dromara/Jpom/issues/I5CGO7) ）
5. 【server】优化监听到路由错误 刷新页面
6. 【server】修复控制台按钮不能正常使用的情况（感谢@😱 会 🎉、ccx2480）

------

## 2.9.0 (2022-06-13)

### 🐣 新增功能

1. 【server】SSH 终端新增全屏方式打开
   （感谢[@jaseeon](https://gitee.com/jaseeon) [Gitee issues I5BS52](https://gitee.com/dromara/Jpom/issues/I5BS52) ）
2. 【server】SSH 新增超时时间配置（感谢@带刺的玫瑰）
3. 【server】SFTP 新增超时时间（感谢@带刺的玫瑰）（特别感谢 [@hutool](https://hutool.cn) 作者紧急发版支持）

### 🐞 解决BUG、优化功能

1. 【server】升级 h2 版本，低版本存在漏洞(CVE-2021-23463)
2. 升级 SpringBoot、Hutool 版本
3. 【server】修复监控日志未存储到对应的工作空间（感谢@带刺的玫瑰）

### ⚠️ 注意

> 此版本为不兼容升级，需要手动升级操作数据相关迁移，操作流程如下：

1. 导出低版本数据
    1. 启动程序参数里面添加 --backup-h2
    2. linux 环境举例：`sh /xxxx/Server.sh restart --backup-h2`
2. 将导出的低版本数据( sql 文件) 导入到新版本中
    1. 启动程序参数里面添加 `--replace-import-h2-sql=/xxxx.sql --transform-sql` (路径需要替换为第一步控制台输出的 sql 文件保存路径)
    2. linux 环境举例：`sh /xxxx/Server.sh restart --replace-import-h2-sql=/xxxx.sql --transform-sql`

✈️ [更详细的升级说明文档](https://jpom.top/pages/upgrade/2.8.x-to-2.9.x/)