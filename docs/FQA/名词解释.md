# Jpom 相关名词解释
 
## 服务端（Server）

服务端可以理解为 Jpom 的一个总控系统，用户直接访问对应系统管理所有节点。一般情况服务端只需要安装一次即可，服务端可以管理多个插件端


## 插件端（Agent）

插件端可以理解为需要在 Jpom 被管理到服务器的守护程序，插件端主要是去监控对应服务器一些基本信息，保存一些项目信息已经对应项目的相关文件等。

已经安装插件端的服务器在 Jpom 中也可以称为节点


## 端口：2122、2123

Jpom 中默认使用到端口有 2122、2123

- 2122 是服务端默认端口
- 2123 是插件端默认端口（添加节点地址时候需要填写对应到 IP:PORT）

> 特别声明：不建议将插件端端口开放到外网可以访问、建议服务端和插件端通信都使用内网

## Jps 命令异常

Jpom 针对 Java 程序状态监控采用 jps 命令，jps 在 jdk 中都默认包含一般不需要额外配置，如果出现插件端中提示 jps 命令异常等相关错误提示。
- 需要检查一下在服务器中能正常执行 jps 命令,不能正常执行需要检查 jdk 是否完整
- 需要检查插件端是否能正常加载环境变量，一般建议使用绝对路径启动插件端 如：sh /xxxx/xxxx/Agent.sh
- windows 服务器需要检查 Agent.bat 编码格式是否匹配，windows 环境中建议使用 GBK 编码格式

## WebSocket

Jpom 中服务端和插件端通信方式有 http、WebSocket,http 主要传输一下基础操作、上传文件相关，WebSocket 主要用于一些需要实时传输的信息如：控制台日志、脚本执行日志等。

服务端中对接口也是采用 http+WebSocket 来实现，如果用户在使用中出现 WebSocket 连接错误或者控制台看不到任何信息时候：需要检查一下是否使用代理软件代理 Jpom 服务端或者插件端（如：nginx 代理）

如果使用了代理需要确认是否配置 WebSocket 相关配置

```
proxy_set_header Upgrade $http_upgrade;
proxy_set_header Connection "upgrade";
```

## 防火墙、安全组

当出现服务都正常，但是无法访问都时候需要检查一下 当前网络环境下和对应都 IP(插件端、服务端) 是否畅通。

如果 IP 都是畅通情况下需要检查一下 服务器是否配置了防火墙规则没有开放对应端口（2122）、或者服务端的服务器中的网络环境是否能访问您配置的插件端 IP 和 端口

## 在线构建

在使用在线构建提示相关命令未找到或者不能执行.

构建依赖的是系统环境，如果需要 maven 或者 node 需要服务端所在的服务器中有对应插件，如果已经启动服务端再安装的对应环境需要通过命令行重启服务端后才生效。